"use strict";function CEditUserView(){this.id=ko.observable(0),this.publicId=ko.observable(""),this.bAllowMakeTenant=Settings.EnableMultiTenant&&App.getUserRole()===Enums.UserRole.SuperAdmin,this.tenantAdminSelected=ko.observable(!1),this.writeSeparateLog=ko.observable(!1),this.sHeading=TextUtils.i18n("%MODULENAME%/HEADING_CREATE_USER"),this.sActionCreate=TextUtils.i18n("COREWEBCLIENT/ACTION_CREATE"),this.sActionCreateInProgress=TextUtils.i18n("COREWEBCLIENT/ACTION_CREATE_IN_PROGRESS"),App.broadcastEvent("%ModuleName%::ConstructView::after",{Name:this.ViewConstructorName,View:this})}var _=require("underscore"),$=require("jquery"),ko=require("knockout"),TextUtils=require("%PathToCoreWebclientModule%/js/utils/Text.js"),App=require("%PathToCoreWebclientModule%/js/App.js"),Screens=require("%PathToCoreWebclientModule%/js/Screens.js"),Settings=require("modules/%ModuleName%/js/Settings.js");CEditUserView.prototype.ViewTemplate="%ModuleName%_EditUserView",CEditUserView.prototype.ViewConstructorName="CEditUserView",CEditUserView.prototype.getCurrentValues=function(){return[this.id(),this.publicId(),this.tenantAdminSelected(),this.writeSeparateLog()]},CEditUserView.prototype.clearFields=function(){this.id(0),this.publicId(""),this.tenantAdminSelected(!1),this.writeSeparateLog(!1)},CEditUserView.prototype.parse=function(e,t){t?(this.id(e),this.publicId(t.PublicId),this.tenantAdminSelected(t.Role===Enums.UserRole.TenantAdmin),this.writeSeparateLog(!!t.WriteSeparateLog)):this.clearFields()},CEditUserView.prototype.isValidSaveData=function(){var e=""!==$.trim(this.publicId());return e||Screens.showError(TextUtils.i18n("%MODULENAME%/ERROR_USER_NAME_EMPTY")),e},CEditUserView.prototype.getParametersForSave=function(){return{UserId:this.id(),PublicId:$.trim(this.publicId()),Role:this.tenantAdminSelected()?Enums.UserRole.TenantAdmin:Enums.UserRole.NormalUser,WriteSeparateLog:this.writeSeparateLog()}},CEditUserView.prototype.saveEntity=function(e,t){_.each(e,function(e){_.isFunction(e.createEntity)?e.createEntity():_.isFunction(e.save)&&e.save(t)})},module.exports=new CEditUserView;