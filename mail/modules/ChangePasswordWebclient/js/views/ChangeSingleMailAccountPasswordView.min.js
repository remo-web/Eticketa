"use strict";function CChangeSingleMailAccountPasswordView(){this.oSingleMailAccount=null,this.showChangePasswordButton=ko.observable(!1),this.init()}var _=require("underscore"),ko=require("knockout"),ModulesManager=require("%PathToCoreWebclientModule%/js/ModulesManager.js"),Popups=require("%PathToCoreWebclientModule%/js/Popups.js"),ChangePasswordPopup=ModulesManager.run("ChangePasswordWebclient","getChangePasswordPopup"),Settings=require("modules/%ModuleName%/js/Settings.js");CChangeSingleMailAccountPasswordView.prototype.ViewTemplate="%ModuleName%_ChangeSingleMailAccountPasswordView",CChangeSingleMailAccountPasswordView.prototype.init=function(){var e=ModulesManager.run("MailWebclient","getAccountList",[]),o=function(){1===e.collection().length?(this.oSingleMailAccount=e.collection()[0],this.showChangePasswordButton(!0)):(this.oSingleMailAccount=null,this.showChangePasswordButton(!1))}.bind(this);e&&_.isFunction(e.collection)&&(o(),e.collection.subscribe(o))},CChangeSingleMailAccountPasswordView.prototype.changePassword=function(){this.oSingleMailAccount&&Popups.showPopup(ChangePasswordPopup,[{iAccountId:this.oSingleMailAccount.id(),sModule:"Mail",bHasOldPassword:!0}])},module.exports=new CChangeSingleMailAccountPasswordView;