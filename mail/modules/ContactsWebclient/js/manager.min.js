"use strict";module.exports=function(e){var t=require("underscore"),n=require("%PathToCoreWebclientModule%/js/utils/Text.js"),s=require("%PathToCoreWebclientModule%/js/App.js"),r=require("%PathToCoreWebclientModule%/js/ModulesManager.js"),u=require("modules/%ModuleName%/js/Settings.js"),o=require("modules/%ModuleName%/js/SuggestionsAutocomplete.js"),i={getSuggestionsAutocompleteCallback:function(e,t,n){return function(s,r){o.callback(s,r,t,e,n)}},getSuggestionsAutocompletePhoneCallback:function(){return o.phoneCallback},getSuggestionsAutocompleteDeleteHandler:function(){return o.deleteHandler},requestUserByPhone:function(e,t,n){o.requestUserByPhone(e,t,n)}},l=function(){s.subscribeEvent("MailWebclient::RegisterMessagePaneController",function(e){e(require("modules/%ModuleName%/js/views/VcardAttachmentView.js"),"BeforeMessageBody")})},a={applyContactsCards:function(e){require("modules/%ModuleName%/js/ContactCard.js").applyTo(e)}};return u.init(e),r.isModuleAvailable(u.ServerModuleName)?(require("modules/%ModuleName%/js/enums.js"),s.isUserNormalOrTenant()?s.isMobile()?t.extend({start:l,getSettings:function(){return u},getHeaderItemView:function(){return require("modules/%ModuleName%/js/views/HeaderItemView.js")}},i):s.isNewTab()?t.extend({start:l},i,a):(require("modules/%ModuleName%/js/MainTabExtMethods.js"),t.extend({start:function(e){e.run("SettingsWebclient","registerSettingsTab",[function(){return require("modules/%ModuleName%/js/views/ContactsSettingsFormView.js")},u.HashModuleName,n.i18n("%MODULENAME%/LABEL_SETTINGS_TAB")]),l()},getScreens:function(){var e={};return e[u.HashModuleName]=function(){return new(require("modules/%ModuleName%/js/views/CContactsView.js"))},e},getHeaderItem:function(){return{item:require("modules/%ModuleName%/js/views/HeaderItemView.js"),name:u.HashModuleName}},isTeamContactsAllowed:function(){return-1!==t.indexOf(u.Storages,"team")},getMobileSyncSettingsView:function(){return require("modules/%ModuleName%/js/views/MobileSyncSettingsView.js")}},i,a)):null):null};