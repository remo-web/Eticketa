"use strict";function IsPageParam(t){return"p"===t.substr(0,1)&&/^[1-9][\d]*$/.test(t.substr(1))}function IsContactParam(t){return"cnt"===t.substr(0,3)}var $=require("jquery"),Types=require("%PathToCoreWebclientModule%/js/utils/Types.js"),Settings=require("modules/%ModuleName%/js/Settings.js"),LinksUtils={};LinksUtils.getContacts=function(t,s,e,r,n,a){var u=[Settings.HashModuleName];return t&&""!==t&&u.push(t),s&&""!==s&&u.push(s),e&&""!==e&&u.push(e),Types.isNumber(r)&&u.push("p"+r),n&&""!==n&&u.push("cnt"+n),a&&""!==a&&u.push(a),u},LinksUtils.parseContacts=function(t){var s=0,e=Settings.DefaultStorage,r="",n="",a=1,u="",i="";return Types.isNonEmptyArray(t)&&(e=Types.pString(t[s]),s++,-1===$.inArray(e,Settings.Storages)&&(e=Settings.DefaultStorage),"group"===e&&(t.length>s?(r=Types.pString(t[s]),s++):e=Settings.DefaultStorage),t.length>s&&!IsPageParam(t[s])&&!IsContactParam(t[s])&&(n=Types.pString(t[s]),s++),t.length>s&&IsPageParam(t[s])&&(a=Types.pInt(t[s].substr(1)),s++,a<=0&&(a=1)),t.length>s&&(IsContactParam(t[s])?u=Types.pString(t[s].substr(3)):i=Types.pString(t[s]),s++)),{Storage:e,GroupUUID:r,Search:n,Page:a,ContactUUID:u,Action:i}},module.exports=LinksUtils;