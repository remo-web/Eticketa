"use strict";function CVcardAttachmentView(){this.vcard=ko.observable(null)}var _=require("underscore"),ko=require("knockout"),Types=require("%PathToCoreWebclientModule%/js/utils/Types.js"),ContactsCache=require("modules/%ModuleName%/js/Cache.js"),CVcardModel=require("modules/%ModuleName%/js/models/VcardModel.js");CVcardAttachmentView.prototype.ViewTemplate="%ModuleName%_VcardAttachmentView",CVcardAttachmentView.prototype.doAfterPopulatingMessage=function(e){var t=e&&Types.isNonEmptyArray(e.aExtend)?e.aExtend:[],r=_.find(t,function(e){return"Object/Aurora\\Modules\\Mail\\Classes\\Vcard"===e["@Object"]});if(r){var a=ContactsCache.getVcard(r.File);a||(a=new CVcardModel).parse(r),this.vcard(a)}else this.vcard(null)},module.exports=new CVcardAttachmentView;