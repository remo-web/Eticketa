"use strict";function CDateModel(){this.iTimeStampInUTC=0,this.oMoment=null}var moment=require("moment"),TextUtils=require("%PathToCoreWebclientModule%/js/utils/Text.js"),Utils=require("%PathToCoreWebclientModule%/js/utils/Common.js"),UserSettings=require("%PathToCoreWebclientModule%/js/Settings.js");CDateModel.prototype.parse=function(t){this.iTimeStampInUTC=t,this.oMoment=moment.unix(this.iTimeStampInUTC)},CDateModel.prototype.setDate=function(t,e,o){this.oMoment=moment([t,e,o])},CDateModel.prototype.getTimeFormat=function(){return UserSettings.timeFormat()===window.Enums.TimeFormat.F24?"HH:mm":"hh:mm A"},CDateModel.prototype.getFullDate=function(){return this.getDate()+" "+this.getTime()},CDateModel.prototype.getMidDate=function(){return this.getShortDate(!0)},CDateModel.prototype.getShortDate=function(t){var e="",o=null;return this.oMoment&&((o=moment()).format("L")===this.oMoment.format("L")?e=this.oMoment.format(this.getTimeFormat()):(e=o.clone().subtract(1,"days").format("L")===this.oMoment.format("L")?TextUtils.i18n("%MODULENAME%/LABEL_YESTERDAY"):UserSettings.UserSelectsDateFormat?this.oMoment.format(Utils.getDateFormatForMoment(UserSettings.dateFormat())):o.year()===this.oMoment.year()?this.oMoment.format("MMM D"):this.oMoment.format("MMM D, YYYY"),t&&(e+=", "+this.oMoment.format(this.getTimeFormat())))),e},CDateModel.prototype.getDate=function(){var t="ddd, MMM D, YYYY";return UserSettings.UserSelectsDateFormat&&(t="ddd, "+Utils.getDateFormatForMoment(UserSettings.dateFormat())),this.oMoment?this.oMoment.format(t):""},CDateModel.prototype.getTime=function(){return this.oMoment?this.oMoment.format(this.getTimeFormat()):""},CDateModel.prototype.getTimeStampInUTC=function(){return this.iTimeStampInUTC},module.exports=CDateModel;