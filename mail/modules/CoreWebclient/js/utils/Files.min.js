"use strict";var TextUtils=require("%PathToCoreWebclientModule%/js/utils/Text.js"),Popups=require("%PathToCoreWebclientModule%/js/Popups.js"),AlertPopup=require("%PathToCoreWebclientModule%/js/popups/AlertPopup.js"),UserSettings=require("%PathToCoreWebclientModule%/js/Settings.js"),FilesUtils={};FilesUtils.getDownloadLink=function(e,t,i){return t.length>0?"?/Download/"+e+"/DownloadFile/"+t+"/"+(i?"0/"+i:""):""},FilesUtils.getIframeWrappwer=function(e,t){return"?/Raw/Iframe/"+e+"/"+window.encodeURIComponent(t)+"/"},FilesUtils.thumbQueue=function(){var e={},t={};return function(i,r,s){r&&s?!(i in t)||t[i]>0?(i in t||(t[i]=2,e[i]=[]),t[i]--,s(r)):e[i].push({imageSrc:r,imageSrcObserver:s,messageUid:i}):e[i]&&e[i].length&&(e[i][0].imageSrcObserver(e[i][0].imageSrc),e[i].shift())}}(),FilesUtils.showErrorIfAttachmentSizeLimit=function(e,t){var i=TextUtils.i18n("%MODULENAME%/ERROR_UPLOAD_SIZE_DETAILED",{FILENAME:e,MAXSIZE:TextUtils.getFriendlySize(UserSettings.AttachmentSizeLimit)});return UserSettings.AttachmentSizeLimit>0&&t>UserSettings.AttachmentSizeLimit&&(Popups.showPopup(AlertPopup,[i]),!0)},module.exports=FilesUtils;