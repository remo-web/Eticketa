"use strict";var _=require("underscore"),$=require("jquery"),UrlUtils={};UrlUtils.getAppPath=function(){return(window.location.origin||window.location.protocol+"//"+window.location.host)+window.location.pathname},UrlUtils.downloadByUrl=function(o){var e=null;require("%PathToCoreWebclientModule%/js/Browser.js").mobileDevice?window.open(o):((e=$('<iframe style="display: none;"></iframe>').appendTo(document.body)).attr("src",o),setTimeout(function(){e.remove()},6e4))},UrlUtils.getRequestParam=function(o){var e=[],t=[],a=null;return void 0===this.aGetParams&&((e=""!==location.search?location.search.substr(1).split("&"):[]).length>0&&_.each(e,function(o){var e=o.split("=");t[e[0]]=e.length>1?e[1]:""}),this.aGetParams=t),void 0!==this.aGetParams[o]&&(a=this.aGetParams[o]),a},UrlUtils.clearAndReloadLocation=function(o,e){var t={OnlyReload:o,ClearSearch:e};if(require("%PathToCoreWebclientModule%/js/App.js").broadcastEvent("clearAndReloadLocation::before",t),o=t.OnlyReload,e=t.ClearSearch,o||""===window.location.search&&""===window.location.hash)window.location.reload();else{var a=UrlUtils.getAppPath();e||""===window.location.search||(a+=window.location.search),"replaceState"in history?(history.replaceState("",document.title,a),window.location.reload(!0)):window.location.href=a}},module.exports=UrlUtils;