var jQuery=require("jquery");!function(t){function e(e,i){this.el=t(e),this.options=i||{},this.x=!1!==this.options.x,this.y=!1!==this.options.y,this.padding=void 0===this.options.padding?2:this.options.padding,this.relativeToInner=void 0!==this.options.relativeToInner&&!!this.options.relativeToInner,this.inner=this.el.find(".scroll-inner");var s={},o=function(){var t,e,i;return t=document.createElement("div"),t.className="scroll-inner",e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow="scroll",e.top="-9999px",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t),i}();this.x?(s["padding-bottom"]=o,s["overflow-x"]="scroll"):s["overflow-x"]="hidden",this.y?("rtl"===this.el.css("direction")?s["margin-left"]=-o:s["margin-right"]=-o,s["overflow-y"]="scroll"):s["overflow-y"]="hidden",this.inner.css(s),this.refresh()}function i(e){this.pane=e,this.pane.el.append(this.el),this.innerEl=this.pane.inner.get(0),this.dragging=!1,this.enter=!1,this.shown=!1,this.needed=!1,this.pane.el.mouseenter(t.proxy(this,"mouseenter")),this.pane.el.mouseleave(t.proxy(this,"mouseleave")),this.el.mousedown(t.proxy(this,"mousedown")),this.pane.inner.scroll(t.proxy(this,"scroll")),this.pane.inner.bind("mousewheel",t.proxy(this,"mousewheel"));var i=this.pane.options.initialDisplay;!1!==i&&(this.hiding=setTimeout(t.proxy(this,"hide"),parseInt(i,10)||3e3))}function s(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i}t.fn.customscroll=function(e){return this.each(function(){t(this).data("customscroll")&&t(this).data("customscroll").destroy(),t(this).data("customscroll",new t.Customscroll(this,e))})},t.Customscroll=e,e.prototype.refresh=function(){!this.horizontal&&this.x?this.horizontal=new i.Horizontal(this):this.horizontal,!this.vertical&&this.y?this.vertical=new i.Vertical(this):this.vertical},e.prototype.reset=function(){this.vertical&&this.vertical.set(0),this.horizontal&&this.horizontal.set(0)},e.prototype.destroy=function(){return this.horizontal&&this.horizontal.destroy(),this.vertical&&this.vertical.destroy(),this},e.prototype.rebuild=function(){return this.destroy(),this.inner.attr("style",""),e.call(this,this.el,this.options),this},e.prototype.scrollToTop=function(){return this.reset(),this},e.prototype.scrollToBottom=function(){return this.vertical&&this.vertical.set(1e4),this.horizontal&&this.horizontal.set(0),this},e.prototype.scrollTo=function(e){if(this.vertical){var i=t(e).offset();i?this.vertical.set(this.vertical.get()+i.top-this.el.offset().top):this.vertical.set(0)}return this.horizontal&&this.horizontal.set(0),this},i.prototype.destroy=function(){return this.el.remove(),this},i.prototype.mouseleave=function(){this.enter=!1,this.dragging||this.hide()},i.prototype.scroll=function(){!this.shown&&this.enter&&(this.show(),this.enter||this.dragging||(this.hiding=setTimeout(t.proxy(this,"hide"),1500))),this.pane.options.onStart&&this.pane.options.onStart.call(),this.update()},i.prototype.mousedown=function(e){e.preventDefault(),this.dragging=!0,this.startPageY=e.pageY-parseInt(this.el.css("top"),10),this.startPageX=e.pageX-parseInt(this.el.css("left"),10),document.onselectstart=function(){return!1};var i=t.proxy(this,"mousemove"),s=this;t(document).mousemove(i).mouseup(function(){s.dragging=!1,document.onselectstart=null,t(document).unbind("mousemove",i),s.enter||s.hide()})},i.prototype.show=function(t){this.shown||(this.update(),this.el.addClass("customscroll-scrollbar-shown"),this.hiding&&(clearTimeout(this.hiding),this.hiding=null),this.shown=!0)},i.prototype.hide=function(){!1!==this.pane.options.autoHide&&this.shown&&(this.el.removeClass("customscroll-scrollbar-shown"),this.shown=!1)},s(i.Horizontal=function(e){this.el=t('<div class="customscroll-scrollbar customscroll-scrollbar-horizontal" />'),this.el.append(t("<div />")),i.call(this,e)},i),i.Horizontal.prototype.update=function(){var t=this.pane.el.width(),e=t-2*this.pane.padding,i=this.pane.inner.get(0),s=e*t/i.scrollWidth;s<50&&(e-=50-s,s=50),this.el.css("width",s).css("left",e*i.scrollLeft/i.scrollWidth)},i.Horizontal.prototype.mousemove=function(t){var e=this.pane.el.width()-2*this.pane.padding,i=t.pageX-this.startPageX,s=this.el.width(),o=this.pane.inner.get(0),n=Math.min(Math.max(i,0),e-s);o.scrollLeft=(o.scrollWidth-this.pane.el.width())*n/(e-s)},i.Horizontal.prototype.mousewheel=function(t,e,i,s){if(this.pane.inner.get(0).scrollWidth>this.pane.el.width()&&(this.enter=!0,this.show()),i<0&&0===this.pane.inner.get(0).scrollLeft||i>0&&this.innerEl.scrollLeft+Math.ceil(this.pane.el.width())===this.innerEl.scrollWidth)return t.preventDefault(),!1},i.Horizontal.prototype.mouseenter=function(){this.pane.inner.get(0).scrollWidth>this.pane.el.width()&&(this.enter=!0,this.show())},i.Horizontal.prototype.set=function(t){void 0!==t&&this.pane.inner.scrollLeft(t)},i.Horizontal.prototype.get=function(){return this.pane.inner.scrollLeft()},s(i.Vertical=function(e){this.el=t('<div class="customscroll-scrollbar customscroll-scrollbar-vertical" />'),this.el.append(t("<div />")),i.call(this,e)},i),i.Vertical.prototype.update=function(){var t=this.pane.relativeToInner?this.pane.inner.height():this.pane.el.height(),e=t-(this.pane.relativeToInner?0:2*this.pane.padding),i=this.innerEl,s=e*t/i.scrollHeight,o=0;s<50&&(e-=50-s,s=50),o=e*i.scrollTop/i.scrollHeight+(this.pane.relativeToInner?this.pane.inner.position().top:0),this.el.css({height:s,top:o})},i.Vertical.prototype.mousemove=function(t){var e=this.pane.relativeToInner?this.pane.inner.height():this.pane.el.height(),i=e-(this.pane.relativeToInner?0:2*this.pane.padding),s=t.pageY-this.startPageY-(this.pane.relativeToInner?this.pane.inner.position().top:0),o=this.el.height(),n=this.innerEl,r=Math.min(Math.max(s,0),i-o);n.scrollTop=(n.scrollHeight-e)*r/(i-o)},i.Vertical.prototype.mousewheel=function(t,e,i,s){this.pane.inner.get(0).scrollHeight>this.pane.el.height()&&(this.enter=!0,this.show())},i.Vertical.prototype.mouseenter=function(){this.pane.inner.get(0).scrollHeight>this.pane.el.height()&&(this.enter=!0,this.show())},i.Vertical.prototype.set=function(t){void 0!==t&&this.pane.inner.scrollTop(t)},i.Vertical.prototype.get=function(){return this.pane.inner.scrollTop()}}(jQuery),module.exports={};