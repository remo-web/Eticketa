"use strict";function CUidListModel(){this.iAccountId=0,this.sFullName="",this.search=ko.observable(""),this.filters=ko.observable(""),this.sortBy=ko.observable(Settings.MessagesSortBy.DefaultSortBy),this.sortOrder=ko.observable(Settings.MessagesSortBy.DefaultSortOrder),this.resultCount=ko.observable(-1),this.collection=ko.observableArray([]),this.threadUids={}}var _=require("underscore"),ko=require("knockout"),MessagesDictionary=require("modules/%ModuleName%/js/MessagesDictionary.js"),Settings=require("modules/%ModuleName%/js/Settings.js");CUidListModel.prototype.addThreadUids=function(t,e){-1!==_.indexOf(this.collection(),t)&&(this.threadUids[t]=e)},CUidListModel.prototype.setUidsAndCount=function(t){"Collection/MessageCollection"===t["@Object"]&&(_.each(t.Uids,function(e,s){this.collection()[s+t.Offset]=e.toString()},this),this.resultCount(t.MessageResultCount))},CUidListModel.prototype.getUidsForOffset=function(t){for(var e=0,s=this.collection().length,o="",i=0,l=[],r=null;e<s;e++)e>=t&&i<Settings.MailsPerPage&&(o=this.collection()[e],((r=MessagesDictionary.get([this.iAccountId,this.sFullName,o]))&&!r.deleted()||void 0===o)&&(i++,void 0!==o&&l.push(o)));return l},CUidListModel.prototype.deleteUids=function(t){for(var e=0,s=this.collection().length,o="",i=[],l=0;e<s;e++)o=this.collection()[e],-1===_.indexOf(t,o)?i.push(o):l++;this.collection(i),this.resultCount(this.resultCount()-l)},CUidListModel.prototype.clearData=function(){this.resultCount(-1),this.collection([]),this.threadUids={}},module.exports=CUidListModel;