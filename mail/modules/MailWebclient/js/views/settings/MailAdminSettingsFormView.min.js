"use strict";function CMailAdminSettingsFormView(){CAbstractSettingsFormView.call(this,Settings.ServerModuleName),this.bAllowHorizontalLayout=Settings.AllowHorizontalLayout,this.aLayoutValues=[{text:TextUtils.i18n("%MODULENAME%/LABEL_VERT_SPLIT_LAYOUT"),value:!1},{text:TextUtils.i18n("%MODULENAME%/LABEL_HORIZ_SPLIT_LAYOUT"),value:!0}],this.allowMultiAccounts=ko.observable(Settings.AllowMultiAccounts),this.autocreateMailAccountOnNewUserFirstLogin=ko.observable(Settings.AutocreateMailAccountOnNewUserFirstLogin),this.allowAddAccounts=ko.observable(Settings.AllowAddAccounts),this.horizontalLayoutByDefault=ko.observable(Settings.HorizontalLayoutByDefault)}var _=require("underscore"),ko=require("knockout"),TextUtils=require("%PathToCoreWebclientModule%/js/utils/Text.js"),Ajax=require("%PathToCoreWebclientModule%/js/Ajax.js"),ModulesManager=require("%PathToCoreWebclientModule%/js/ModulesManager.js"),CAbstractSettingsFormView=ModulesManager.run("AdminPanelWebclient","getAbstractSettingsFormViewClass"),Settings=require("modules/%ModuleName%/js/Settings.js");_.extendOwn(CMailAdminSettingsFormView.prototype,CAbstractSettingsFormView.prototype),CMailAdminSettingsFormView.prototype.ViewTemplate="%ModuleName%_Settings_MailAdminSettingsFormView",CMailAdminSettingsFormView.prototype.onRouteChild=function(){Ajax.send(Settings.ServerModuleName,"GetSettings",{},function(t){t.Result&&this.allowMultiAccounts(t.Result.AllowMultiAccounts)},this)},CMailAdminSettingsFormView.prototype.getCurrentValues=function(){return[this.autocreateMailAccountOnNewUserFirstLogin,this.allowAddAccounts,this.horizontalLayoutByDefault()]},CMailAdminSettingsFormView.prototype.revertGlobalValues=function(){this.autocreateMailAccountOnNewUserFirstLogin(Settings.AutocreateMailAccountOnNewUserFirstLogin),this.allowAddAccounts(Settings.AllowAddAccounts),this.horizontalLayoutByDefault(Settings.HorizontalLayoutByDefault)},CMailAdminSettingsFormView.prototype.getParametersForSave=function(){return{AutocreateMailAccountOnNewUserFirstLogin:this.autocreateMailAccountOnNewUserFirstLogin(),AllowAddAccounts:this.allowAddAccounts(),HorizontalLayoutByDefault:this.horizontalLayoutByDefault()}},CMailAdminSettingsFormView.prototype.applySavedValues=function(t){Settings.updateAdmin(t.AutocreateMailAccountOnNewUserFirstLogin,t.AllowAddAccounts,t.HorizontalLayoutByDefault)},CMailAdminSettingsFormView.prototype.setAccessLevel=function(t,e){this.visible(""===t)},module.exports=new CMailAdminSettingsFormView;