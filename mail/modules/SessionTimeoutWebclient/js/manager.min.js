"use strict";function LogoutBySessionTimeout(){_.each(aSessionTimeoutFunctions,function(e){e()}),_.delay(function(){App.logout()},500)}function SetSessionTimeout(){clearTimeout(iSessionTimeout),iSessionTimeout=setTimeout(LogoutBySessionTimeout,60*iTimeoutMinutes*1e3)}var _=require("underscore"),$=require("jquery"),App=require("%PathToCoreWebclientModule%/js/App.js"),aSessionTimeoutFunctions=[],iSessionTimeout=0,iTimeoutMinutes=0;module.exports=function(e){var o=require("%PathToCoreWebclientModule%/js/App.js"),i=e["%ModuleName%"]||{};return o.getUserRole()!==Enums.UserRole.Anonymous&&"number"==typeof i.TimeoutMinutes&&i.TimeoutMinutes>0&&(iTimeoutMinutes=i.TimeoutMinutes,SetSessionTimeout(),$("body").on("click",SetSessionTimeout).on("keydown",SetSessionTimeout)),o.isUserNormalOrTenant()?{registerFunction:function(e){aSessionTimeoutFunctions.push(e)}}:null};