"use strict";function CConfirmPasswordPopup(){CAbstractPopup.call(this),this.onConfirm=null,this.password=ko.observable(""),this.inPropgress=ko.observable(!1),this.action=""}var _=require("underscore"),ko=require("knockout"),Screens=require("%PathToCoreWebclientModule%/js/Screens.js"),TextUtils=require("%PathToCoreWebclientModule%/js/utils/Text.js"),CAbstractPopup=require("%PathToCoreWebclientModule%/js/popups/CAbstractPopup.js"),Ajax=require("%PathToCoreWebclientModule%/js/Ajax.js");_.extendOwn(CConfirmPasswordPopup.prototype,CAbstractPopup.prototype),CConfirmPasswordPopup.prototype.PopupTemplate="%ModuleName%_ConfirmPasswordPopup",CConfirmPasswordPopup.prototype.onOpen=function(o,s){this.onConfirm=o,this.action=s},CConfirmPasswordPopup.prototype.verifyPassword=function(){this.inPropgress(!0),Ajax.send("TwoFactorAuth",this.action,{Password:this.password()},this.onGetVerifyResponse,this)},CConfirmPasswordPopup.prototype.onGetVerifyResponse=function(o){o.Result?(_.isFunction(this.onConfirm)&&this.onConfirm(o),this.closePopup(),this.password("")):Screens.showError(TextUtils.i18n("%MODULENAME%/ERROR_WRONG_PASSWORD")),this.inPropgress(!1)},module.exports=new CConfirmPasswordPopup;